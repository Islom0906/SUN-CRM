"use strict";(self.webpackChunkSUN_crm=self.webpackChunkSUN_crm||[]).push([[520],{57520:(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var a=s(50108),r=s(82291),i=s(87734),d=s(52185),n=s(6026),l=s(86150),c=s(21327),h=s(38643),u=s(60163),x=s(4240),o=s(17869),j=s(82907),y=s(59888),m=s(84892),f=s(48193),v=s(47419),p=s(11645),g=s(65043),A=s(49422),b=s(70579);const{Title:w}=m.A,k=()=>{const{user:e}=(0,A.Z)(),{data:t,isError:s,isLoading:m,refetch:k}=(0,j.useQuery)("order-get",(()=>y.A.getData("Apartment/FullStatistic")),{enabled:!1,onError:e=>{f.Ay.error(e)}});(0,g.useEffect)((()=>{k()}),[]);const F=(0,g.useMemo)((()=>{if(m||s)return[];return[{name:"\u041a\u0443\u043f\u043b\u0435\u043d\u043e",value:null===t||void 0===t?void 0:t.buyed},{name:"\u041f\u0443\u0441\u0442\u043e\u0439",value:null===t||void 0===t?void 0:t.empty},{name:"\u0417\u0430\u043d\u044f\u0442",value:null===t||void 0===t?void 0:t.busied}]}),[t,m,s]),E=["#e70505","#00C49F","#FFBB28"],K=Math.PI/180;return(0,b.jsx)("div",{children:(0,b.jsxs)(v.A,{children:[(0,b.jsxs)(p.A,{span:16,children:[(0,b.jsx)(w,{type:"h2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),e.role[1]?(0,b.jsx)(a.u,{width:"100%",height:300,children:(0,b.jsxs)(r.E,{data:[],children:[(0,b.jsx)(i.d,{strokeDasharray:"3 6"}),(0,b.jsx)(d.W,{dataKey:"name"}),(0,b.jsx)(n.h,{}),(0,b.jsx)(l.m,{}),(0,b.jsx)(c.s,{}),(0,b.jsx)(h.y,{dataKey:"count",fill:"#8884d8"})]})}):(0,b.jsx)(a.u,{width:"100%",height:300,children:(0,b.jsxs)(r.E,{data:[],children:[(0,b.jsx)(i.d,{strokeDasharray:"3 6"}),(0,b.jsx)(d.W,{dataKey:"dateTime"}),(0,b.jsx)(n.h,{}),(0,b.jsx)(l.m,{}),(0,b.jsx)(c.s,{}),(0,b.jsx)(h.y,{dataKey:"count",fill:"#8884d8"})]})})]}),(0,b.jsx)(p.A,{span:8,children:(0,b.jsx)(a.u,{width:"100%",height:"100%",children:(0,b.jsx)(u.r,{width:400,height:400,children:(0,b.jsx)(x.F,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{cx:t,cy:s,midAngle:a,innerRadius:r,outerRadius:i,percent:d}=e;const n=r+.5*(i-r),l=t+n*Math.cos(-a*K),c=s+n*Math.sin(-a*K);return(0,b.jsx)("text",{x:l,y:c,fill:"white",textAnchor:l>t?"start":"end",dominantBaseline:"central",children:"".concat((100*d).toFixed(0),"%")})},outerRadius:80,fill:"#8884d8",dataKey:"value",children:F.map(((e,t)=>(0,b.jsx)(o.f,{fill:E[t%E.length]},"cell-".concat(t))))})})})})]})})},F=()=>(0,b.jsx)("div",{children:(0,b.jsx)(k,{})})}}]);
//# sourceMappingURL=520.4720112d.chunk.js.map