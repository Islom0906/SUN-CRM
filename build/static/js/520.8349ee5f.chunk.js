"use strict";(self.webpackChunkSUN_crm=self.webpackChunkSUN_crm||[]).push([[520],{57520:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var a=t(50108),r=t(82291),i=t(87734),d=t(52185),l=t(6026),n=t(86150),c=t(21327),h=t(38643),o=t(60163),u=t(4240),x=t(17869),j=t(82907),m=t(59888),y=t(84892),v=t(48193),f=t(47419),g=t(11645),A=t(65043),p=t(49422),b=t(70579);const{Title:w}=y.A,E=()=>{const{user:e}=(0,p.Z)(),{data:s,isError:t,isLoading:y,refetch:E}=(0,j.useQuery)("order-get",(()=>m.A.getData("Apartment/Statistic")),{enabled:!1,onError:e=>{v.Ay.error(e)}}),{data:k,isError:D,isLoading:F,refetch:K}=(0,j.useQuery)("get-by-status",(()=>m.A.getData("Apartment/FullStatistic")),{enabled:!1,onError:e=>{v.Ay.error(e)}});(0,A.useEffect)((()=>{E(),K()}),[]);const S=(0,A.useMemo)((()=>y||t?[]:(null===s||void 0===s||s.map((e=>{e.dateTime=new Date(e.dateTime).toLocaleDateString()})),console.log(s),s)),[s,y,t]),T=(0,A.useMemo)((()=>{if(F||D)return[];return[{name:"\u041a\u0443\u043f\u043b\u0435\u043d\u043e",value:null===k||void 0===k?void 0:k.buyed},{name:"\u041f\u0443\u0441\u0442\u043e\u0439",value:null===k||void 0===k?void 0:k.empty},{name:"\u0417\u0430\u043d\u044f\u0442",value:null===k||void 0===k?void 0:k.busied}]}),[k,F,D]),C=["#e70505","#00C49F","#FFBB28"];return(0,b.jsx)("div",{children:(0,b.jsxs)(f.A,{children:[(0,b.jsxs)(g.A,{span:16,children:[(0,b.jsx)(w,{type:"h2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),e.role[1]?(0,b.jsx)(a.u,{width:"100%",height:300,children:(0,b.jsxs)(r.E,{data:S,children:[(0,b.jsx)(i.d,{strokeDasharray:"3 6"}),(0,b.jsx)(d.W,{dataKey:"name"}),(0,b.jsx)(l.h,{}),(0,b.jsx)(n.m,{}),(0,b.jsx)(c.s,{}),(0,b.jsx)(h.y,{dataKey:"count",fill:"#8884d8"})]})}):(0,b.jsx)(a.u,{width:"100%",height:300,children:(0,b.jsxs)(r.E,{data:S,children:[(0,b.jsx)(i.d,{strokeDasharray:"3 6"}),(0,b.jsx)(d.W,{dataKey:"dateTime"}),(0,b.jsx)(l.h,{}),(0,b.jsx)(n.m,{}),(0,b.jsx)(c.s,{}),(0,b.jsx)(h.y,{dataKey:"count",fill:"#8884d8"})]})})]}),(0,b.jsx)(g.A,{span:8,children:(0,b.jsx)(a.u,{width:"100%",height:"100%",children:(0,b.jsxs)(o.r,{width:"100%",height:"100%",children:[(0,b.jsx)(u.F,{dataKey:"value",isAnimationActive:!0,data:T,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:T.map(((e,s)=>(0,b.jsx)(x.f,{fill:C[s%C.length]},"cell-".concat(s))))}),(0,b.jsx)(n.m,{})]})})})]})})},k=()=>(0,b.jsx)("div",{children:(0,b.jsx)(E,{})})}}]);
//# sourceMappingURL=520.8349ee5f.chunk.js.map