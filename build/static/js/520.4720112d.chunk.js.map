{"version":3,"file":"static/js/520.4720112d.chunk.js","mappings":"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","sources":["pages/sample/Dashboard/OrderChart.jsx","pages/sample/Dashboard/index.jsx"],"sourcesContent":["import {\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    Legend,\n    ResponsiveContainer,\n    Pie,\n    PieChart, Cell\n} from 'recharts';\nimport {useQuery} from \"react-query\";\nimport apiService from \"../../../@crema/services/apis/api\";\nimport {Col, message, Row, Typography} from 'antd';\nimport {useEffect, useMemo} from 'react';\nimport {useAuthUser} from \"../../../@crema/utility/AuthHooks\";\n\nconst {Title} = Typography;\n\n\nconst DealersChart = () => {\n    const {user} = useAuthUser()\n    // const {data, isError, isLoading, refetch} = useQuery(\n    //     'order-get',\n    //     () => apiService.getData('Apartment/Statistics'),\n    //     {\n    //         enabled: false,\n    //         onError: (error) => {\n    //\n    //             message.error(error);\n    //         },\n    //     },\n    // );\n\n    const {data:dataHomeStatus, isError:errorHomeStatus, isLoading:loadingHomeStatus, refetch:refetchHomeStatus} = useQuery(\n        'order-get',\n        () => apiService.getData('Apartment/FullStatistic'),\n        {\n            enabled: false,\n            onError: (error) => {\n\n                message.error(error);\n            },\n        },\n    );\n\n    useEffect(() => {\n        // refetch()\n        refetchHomeStatus()\n    }, []);\n\n\n    // const dataOrder = useMemo(() => {\n    //     if (!isLoading || !isError) {\n    //         return [];\n    //     }\n    //\n    //\n    //     data?.map((item) => {\n    //\n    //         item.dateTime = new Date(item.dateTime).toLocaleDateString();\n    //     })\n    //\n    //     return data\n    // }, [data, isLoading, isError]);\n\n\n    const dataHomeStatusChart = useMemo(() => {\n        if (loadingHomeStatus || errorHomeStatus) {\n            return [];\n        }\n\n        const data=[\n            {\n                name:'Куплено',\n                value:dataHomeStatus?.buyed\n            },\n            {\n                name:'Пустой',\n                value:dataHomeStatus?.empty\n            },\n            {\n                name:'Занят',\n                value:dataHomeStatus?.busied\n            }\n        ]\n\n\n        return data\n    }, [dataHomeStatus, loadingHomeStatus, errorHomeStatus]);\n    const COLORS = ['#e70505', '#00C49F', '#FFBB28'];\n    const RADIAN = Math.PI / 180;\n    const renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent }) => {\n        const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n        const x = cx + radius * Math.cos(-midAngle * RADIAN);\n        const y = cy + radius * Math.sin(-midAngle * RADIAN);\n\n        return (\n            <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\n                {`${(percent * 100).toFixed(0)}%`}\n            </text>\n        );\n    };\n\n    return (\n        <div>\n\n            <Row>\n                <Col span={16}>\n                    <Title type='h2'>Статистика</Title>\n                    {\n                        user.role[1] ?\n                            <ResponsiveContainer width=\"100%\" height={300}>\n                                <BarChart data={[]}>\n                                    <CartesianGrid strokeDasharray=\"3 6\"/>\n                                    <XAxis dataKey=\"name\"/>\n                                    <YAxis/>\n                                    <Tooltip/>\n                                    <Legend/>\n                                    <Bar dataKey=\"count\" fill=\"#8884d8\"/>\n                                </BarChart>\n                            </ResponsiveContainer>\n                            :\n                            <ResponsiveContainer width=\"100%\" height={300}>\n                                <BarChart data={[]}>\n                                    <CartesianGrid strokeDasharray=\"3 6\"/>\n                                    <XAxis dataKey=\"dateTime\"/>\n                                    <YAxis/>\n                                    <Tooltip/>\n                                    <Legend/>\n                                    <Bar dataKey=\"count\" fill=\"#8884d8\"/>\n                                </BarChart>\n                            </ResponsiveContainer>\n                    }\n                </Col>\n                <Col span={8}>\n                    {/*<Title type='h2'>Статистика статус дома</Title>*/}\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <PieChart width={400} height={400}>\n                            <Pie\n                                data={dataHomeStatusChart}\n                                cx=\"50%\"\n                                cy=\"50%\"\n                                labelLine={false}\n                                label={renderCustomizedLabel}\n                                outerRadius={80}\n                                fill=\"#8884d8\"\n                                dataKey=\"value\"\n                            >\n                                {dataHomeStatusChart.map((entry, index) => (\n                                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                                ))}\n                            </Pie>\n                        </PieChart>\n                    </ResponsiveContainer>\n                </Col>\n            </Row>\n\n\n        </div>\n    )\n}\n\nexport default DealersChart","import OrderChart from './OrderChart';\n// import ProductChart from \"./ProductChart\";\n\n\n\n\n\nconst Dashboard = () => {\n    return (\n        <div>\n            <OrderChart/>\n       {/*<ProductChart/>*/}\n        </div>\n    );\n};\n\nexport default Dashboard;"],"names":["Title","Typography","DealersChart","user","useAuthUser","data","dataHomeStatus","isError","errorHomeStatus","isLoading","loadingHomeStatus","refetch","refetchHomeStatus","useQuery","apiService","getData","enabled","onError","error","message","useEffect","dataHomeStatusChart","useMemo","name","value","buyed","empty","busied","COLORS","RADIAN","Math","PI","_jsx","children","_jsxs","Row","Col","span","type","role","ResponsiveContainer","width","height","BarChart","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Tooltip","Legend","Bar","fill","PieChart","Pie","cx","cy","labelLine","label","_ref","midAngle","innerRadius","outerRadius","percent","radius","x","cos","y","sin","textAnchor","dominantBaseline","concat","toFixed","map","entry","index","Cell","length","Dashboard","OrderChart"],"sourceRoot":""}